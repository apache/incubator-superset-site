(window.webpackJsonp=window.webpackJsonp||[]).push([[29],{"25Bd":function(e,t,a){"use strict";a.r(t),a.d(t,"_frontmatter",(function(){return i})),a.d(t,"default",(function(){return b}));var n=a("wx14"),r=a("zLVn"),o=(a("q1tI"),a("7ljp")),s=a("hhGP"),i=(a("qKvR"),{});void 0!==i&&i&&i===Object(i)&&Object.isExtensible(i)&&!i.hasOwnProperty("__filemeta")&&Object.defineProperty(i,"__filemeta",{configurable:!0,value:{name:"_frontmatter",filename:"src/pages/docs/installation/install-database-drivers.mdx"}});var l={_frontmatter:i},c=s.a;function b(e){var t=e.components,a=Object(r.a)(e,["components"]);return Object(o.b)(c,Object(n.a)({},l,a,{components:t,mdxType:"MDXLayout"}),Object(o.b)("h2",{id:"install-database-drivers"},"Install Database Drivers"),Object(o.b)("p",null,"Now that you have Superset up and running on your local machine, along with some example dashboards, let’s connect it to a database to run some queries and visualize some data."),Object(o.b)("p",null,"Superset runs on Python and requires a database driver to be installed for each type of database. When setting up Superset locally via ",Object(o.b)("inlineCode",{parentName:"p"},"docker-compose"),", the drivers and packages\ncontained in ",Object(o.b)("a",{href:"https://github.com/apache/incubator-superset/blob/master/requirements.txt",parentName:"p"},"requirements.txt")," and\n",Object(o.b)("a",{href:"https://github.com/apache/incubator-superset/blob/master/requirements-dev.txt",parentName:"p"},"requirements-dev.txt")," will\nbe installed automatically."),Object(o.b)("p",null,"At the time of this writing, drivers for the following databases are included:"),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},Object(o.b)("a",{href:"https://pypi.org/project/pydruid/",parentName:"li"},"Druid")),Object(o.b)("li",{parentName:"ul"},Object(o.b)("a",{href:"https://pypi.org/project/psycopg2/",parentName:"li"},"Postgres")),Object(o.b)("li",{parentName:"ul"},Object(o.b)("a",{href:"https://pypi.org/project/PyHive/",parentName:"li"},"Presto/Hive"))),Object(o.b)("p",null,"If your database is one of these, you should be good to go! However, if you want to\nconnect to something different, like MySQL, you would need to install an additional driver."),Object(o.b)("h3",{id:"1-determine-the-driver-you-need"},"1. Determine the driver you need"),Object(o.b)("p",null,"To figure out how to install the database driver of your choice, a good starting point is the Datasource Connector section of this documentation for instructions."),Object(o.b)("p",null,"Superset interacts with the underlying databases using the provided SQL interface (often times through a SQLAlchemy library). If your database or data engine isn't on the list but a SQL interface exists, please file an issue on the ",Object(o.b)("a",{href:"https://github.com/apache/incubator-superset/issues",parentName:"p"},"Superset GitHub repo"),", so we can work on supporting it."),Object(o.b)("p",null,Object(o.b)("a",{href:"https://stackoverflow.com/questions/tagged/apache-superset+superset",parentName:"p"},"StackOverflow")," and the ",Object(o.b)("a",{href:"https://join.slack.com/t/apache-superset/shared_invite/enQtNDMxMDY5NjM4MDU0LWJmOTcxYjlhZTRhYmEyYTMzOWYxOWEwMjcwZDZiNWRiNDY2NDUwNzcwMDFhNzE1ZmMxZTZlZWY0ZTQ2MzMyNTU",parentName:"p"},"Superset community Slack"),"\nare great places to get help with connecting to databases in Superset."),Object(o.b)("p",null,"In the end, you should be looking for a Python package compatible with your database. One part that makes database driver installation tricky is the fact that local binaries are sometimes required in order for them to bind properly, which means that various apt packages might need to be installed before pip can get things set up."),Object(o.b)("p",null,"In the next few steps, we'll walk through the process of installing a MySQL driver in Superset."),Object(o.b)("h3",{id:"2-install-mysql-driver"},"2. Install MySQL Driver"),Object(o.b)("p",null,"As we are currently running inside of a Docker container via ",Object(o.b)("inlineCode",{parentName:"p"},"docker compose"),", we cannot simply run ",Object(o.b)("inlineCode",{parentName:"p"},"pip install mysqlclient")," on our local shell and expect the drivers to be installed within the Docker containers for superset."),Object(o.b)("p",null,"In order to address this, the Superset ",Object(o.b)("inlineCode",{parentName:"p"},"docker compose")," setup comes with a mechanism for you to install packages locally, which will be ignored by Git for the purposes of local development. Please follow these steps:"),Object(o.b)("p",null,"Create ",Object(o.b)("inlineCode",{parentName:"p"},"requirements-local.txt")),Object(o.b)("pre",null,Object(o.b)("code",{parentName:"pre"},"# From the repo root...\ntouch ./docker/requirements-local.txt\n")),Object(o.b)("p",null,"Add the driver selected in step above:"),Object(o.b)("pre",null,Object(o.b)("code",{parentName:"pre"},'echo "mysqlclient" >> ./docker/requirements-local.txt\n')),Object(o.b)("p",null,"Rebuild your local image with the new driver baked in:"),Object(o.b)("pre",null,Object(o.b)("code",{parentName:"pre"},"docker-compose build --force-rm\n")),Object(o.b)("p",null,"After the rebuild is complete, which make take a few minutes, relaunch:"),Object(o.b)("pre",null,Object(o.b)("code",{parentName:"pre"},"docker-compose up\n")),Object(o.b)("h3",{id:"3-connect-to-mysql"},"3. Connect to MySQL"),Object(o.b)("p",null,"Now that you've got a MySQL driver installed locally, you should be able to test it out."),Object(o.b)("p",null,"We can now create a Datasource in Superset that can be used to connect to a MySQL instance. Assuming your MySQL instance is running locally and can be accessed via localhost, use the following connection string in “SQL Alchemy URI”, by going to Sources > Databases > + icon (to add a new datasource) in Superset."),Object(o.b)("p",null,"For Docker running in Linux:"),Object(o.b)("pre",null,Object(o.b)("code",{parentName:"pre"},"mysql://mysqluser:mysqluserpassword@localhost/example?charset=utf8\n")),Object(o.b)("p",null,"For Docker running in OSX:"),Object(o.b)("pre",null,Object(o.b)("code",{parentName:"pre"},"mysql://mysqluser:mysqluserpassword@docker.for.mac.host.internal/example?charset=utf8\n")),Object(o.b)("p",null,"Then click “Test Connection”, which should give you an “OK” message. If not, please look at your terminal for error messages, and reach out for help."),Object(o.b)("p",null,"Click 'Next' to learn how to make your first chart in Superset."))}void 0!==b&&b&&b===Object(b)&&Object.isExtensible(b)&&!b.hasOwnProperty("__filemeta")&&Object.defineProperty(b,"__filemeta",{configurable:!0,value:{name:"MDXContent",filename:"src/pages/docs/installation/install-database-drivers.mdx"}}),b.isMDXComponent=!0}}]);
//# sourceMappingURL=component---src-pages-docs-installation-install-database-drivers-mdx-af3896d10b7cb9bd171a.js.map